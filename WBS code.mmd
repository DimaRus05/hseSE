flowchart TB
  %% ---------- Стили ----------
  classDef PM fill:#D6E6FF,stroke:#0074D9,stroke-width:3px
  classDef UIUX fill:#F2D6FF,stroke:#B10DC9,stroke-width:3px
  classDef Mobile fill:#D9FFD6,stroke:#2ECC40,stroke-width:3px
  classDef Backend fill:#FFD6D6,stroke:#FF4136,stroke-width:3px
  classDef QA fill:#FFF2CC,stroke:#FF851B,stroke-width:3px
  classDef DevOps fill:#FFE5CC,stroke:#FF851B,stroke-width:3px

  %% ---------- Корень ----------
  T["TimeTamer SmartCalendar"]

  %% ---------- 1. Управление проектом ----------
  T --> P1["1.0 Управление проектом и выпуск продукта"]
  P1 --> P1_1["1.1 Управление проектом"]
  P1_1 --> P1_1_1["1.1.1 Планирование проекта<br>(roadmap, спринты, сроки)"]
  P1_1 --> P1_1_2["1.1.2 Управление рисками, коммуникации и отчётность"]
  P1_1 --> P1_1_3["1.1.3 Контроль качества и приемка"]
  P1 --> P1_2["1.2 Документация и требования"]
  P1_2 --> P1_2_1["1.2.1 Сбор и спецификация требований<br>(B2C/B2B)"]
  P1_2 --> P1_2_2["1.2.2 Юридические/комплаенс требования<br>(GDPR, лицензии)"]
  P1_2 --> P1_2_3["1.2.3 Документация API и интеграций"]

  %% ---------- 2. Дизайн и UI/UX ----------
  T --> P2["2.0 Дизайн и UX"]
  P2 --> P2_1["2.1 Исследование пользователей и прототипы"]
  P2_1 --> P2_1_1["2.1.1 Интервью с целевыми группами<br>(студенты, HR, команды)"]
  P2_1 --> P2_1_2["2.1.2 Прототипы UI<br>(web, mobile)"]
  P2 --> P2_2["2.2 UI/UX дизайн"]
  P2_2 --> P2_2_1["2.2.1 Финальный дизайн экранов и потоков"]
  P2_2 --> P2_2_2["2.2.2 Анимации и геймифицированные элементы"]

  %% ---------- 3. Бэкенд ----------
  T --> P3["3.0 Бэкенд — ядро и сервисы"]
  P3 --> P3_1["3.1 Архитектура и инфраструктура"]
  P3_1 --> P3_1_1["3.1.1 Проектирование сервисной архитектуры<br>(auth, events, scheduling)"]
  P3_1 --> P3_1_2["3.1.2 Развёртывание и CI/CD, бэкапы"]
  P3 --> P3_2["3.2 Сервисы данных и API"]
  P3_2 --> P3_2_1["3.2.1 Пользовательский сервис<br>(аккаунты, профили)"]
  P3_2 --> P3_2_2["3.2.2 Сервис событий/календаря<br>(создание, изменение, синхронизация)"]
  P3_2 --> P3_2_3["3.2.3 Сервис синхронизации<br>(Google, Apple)"]
  P3_2 --> P3_2_4["3.2.4 Сервис геймификации<br>(опыт, уровни, достижения)"]
  P3_2 --> P3_2_5["3.2.5 Сервис аналитики и статистики"]

  %% ---------- 4. AI-модули ----------
  T --> P4["4.0 AI-модули"]
  P4 --> P4_1["4.1 AI-планировщик"]
  P4_1 --> P4_1_1["4.1.1 Сбор и подготовка данных<br>(карты задач, длительность)"]
  P4_1 --> P4_1_2["4.1.2 Модели планирования<br>(heuristics + ML)"]
  P4_1 --> P4_1_3["4.1.3 Валидация и тесты моделей"]
  P4 --> P4_2["4.2 AI-ассистент<br>(NLP/voice)"]
  P4_2 --> P4_2_1["4.2.1 Модуль распознавания речи и NLU"]
  P4_2 --> P4_2_2["4.2.2 Диалоговое управление и команды"]
  P4_2 --> P4_2_3["4.2.3 Интеграция голос/чат — UI"]

  %% ---------- 5. Клиентские приложения ----------
  T --> P5["5.0 Клиентские приложения"]
  P5 --> P5_1["5.1 Веб-клиент"]
  P5_1 --> P5_1_1["5.1.1 SPA интерфейс — календарь, задачи, профиль"]
  P5_1 --> P5_1_2["5.1.2 Кроссбраузерная совместимость"]
  P5 --> P5_2["5.2 Мобильные приложения"]
  P5_2 --> P5_2_1["5.2.1 Android app<br>(min Android 10)"]
  P5_2 --> P5_2_2["5.2.2 iOS app<br>(min iOS 14)"]
  P5_2 --> P5_2_3["5.2.3 Push-уведомления, offline sync"]

  %% ---------- 6. Интеграции ----------
  T --> P6["6.0 Интеграции и внешние сервисы"]
  P6 --> P6_1["6.1 Синхронизация с календарями<br>(Google, Apple)"]
  P6 --> P6_2["6.2 Интеграция с фитнес-сервисами<br>(Google Fit, Apple Health)"]
  P6 --> P6_3["6.3 Email/SMS/Push-провайдеры"]

  %% ---------- 7. Тестирование ----------
  T --> P7["7.0 Тестирование и QA"]
  P7 --> P7_1["7.1 Модульное тестирование"]
  P7 --> P7_2["7.2 Интеграционные тесты<br>(включая внешние API)"]
  P7 --> P7_3["7.3 Нагрузочное и стресс-тестирование"]
  P7 --> P7_4["7.4 Приёмочное тестирование<br>(MVP, B2B acceptance)"]

  %% ---------- 8. Развёртывание ----------
  T --> P8["8.0 Развёртывание и поддержка"]
  P8 --> P8_1["8.1 Подготовка производственной среды"]
  P8 --> P8_2["8.2 Документация по эксплуатации"]
  P8 --> P8_3["8.3 Поддержка клиентов и багфиксинг"]

  %% ---------- Присвоение классов ----------
  class P1,P1_1,P1_1_1,P1_1_2,P1_1_3,P1_2,P1_2_1,P1_2_2,P1_2_3 PM
  class P2,P2_1,P2_1_1,P2_1_2,P2_2,P2_2_1,P2_2_2 UIUX
  class P5,P5_2,P5_2_1,P5_2_2,P5_2_3 Mobile
  class P3,P3_1,P3_1_1,P3_1_2,P3_2,P3_2_1,P3_2_2,P3_2_3,P3_2_4,P3_2_5 Backend
  class P4,P4_1,P4_1_1,P4_1_2,P4_1_3,P4_2,P4_2_1,P4_2_2,P4_2_3 Backend
  class P6,P6_1,P6_2,P6_3 DevOps
  class P7,P7_1,P7_2,P7_3,P7_4 QA
  class P8,P8_1,P8_2,P8_3 DevOps
